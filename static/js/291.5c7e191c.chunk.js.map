{"version":3,"file":"static/js/291.5c7e191c.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/NanniesList/NanniesList.module.css?c357","../node_modules/nanoid/index.browser.js","../node_modules/nanoid/url-alphabet/index.js","components/NanniesList/NanniesList.tsx","img/chevron-down.svg","webpack://my-app/./src/components/Filters/Filters.module.css?0811","components/Filters/Filters.tsx","webpack://my-app/./src/pages/NanniesPage/NanniesPage.module.css?f6c5","pages/NanniesPage/NanniesPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"NanniesList_list__7+9b4\",\"btnWrap\":\"NanniesList_btnWrap__tzMPk\",\"btnLoadMore\":\"NanniesList_btnLoadMore__vYiJW\"};","import { urlAlphabet } from './url-alphabet/index.js'\nexport { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    id += urlAlphabet[bytes[size] & 63]\n  }\n  return id\n}\n","export const urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\n","import { FC, useEffect, useState } from \"react\";\nimport NanniesCard from \"../NanniesCard/NanniesCard\";\nimport { ref, onValue } from \"firebase/database\";\nimport { db } from \"../../firebase\";\nimport { INanny } from \"../../types\";\nimport css from \"./NanniesList.module.css\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  selectCurrentPage,\n  selectFilter,\n  selectIsLoading,\n} from \"../../redux/selectors\";\nimport {\n  setCurrentPage,\n  setError,\n  setLoading,\n  setNannies,\n  setNextPage,\n} from \"../../redux/nanniesSlice\";\nimport Loader from \"../Loader/Loader\";\nimport { nanoid } from \"nanoid\";\n\nconst NanniesList: FC = () => {\n  const isLoading = useSelector(selectIsLoading);\n  const filter = useSelector(selectFilter);\n\n  const [loadedNannies, setLoadedNannies] = useState<INanny[]>([]);\n  const [visibleNannies, setVisibleNannies] = useState<INanny[]>([]);\n\n  const nanniesPerPage = 3;\n  const currentPage = useSelector(selectCurrentPage);\n\n  const dispatch = useDispatch();\n\n  const handleLoadMore = () => {\n    dispatch(setNextPage());\n    const startIndex = currentPage * nanniesPerPage;\n    const endIndex = startIndex + nanniesPerPage;\n    const newVisibleNannies = loadedNannies.slice(startIndex, endIndex);\n    setVisibleNannies([...visibleNannies, ...newVisibleNannies]);\n    setCurrentPage(currentPage);\n  };\n\n  useEffect(() => {\n    try {\n      dispatch(setLoading(true));\n      dispatch(setError(null));\n\n      const unsubscribe = onValue(ref(db), (snapshot) => {\n        const data = snapshot.val();\n\n        if (data) {\n          dispatch(setNannies(data));\n          setLoadedNannies(data);\n        }\n      });\n      return () => unsubscribe();\n    } catch (error) {\n      dispatch(setLoading(false));\n      dispatch(setError(error));\n    }\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (loadedNannies.length > 0) {\n      let filteredNannies = [...loadedNannies];\n\n      switch (filter) {\n        case \"A to Z\":\n          filteredNannies.sort((a, b) => a.name.localeCompare(b.name));\n          break;\n        case \"Z to A\":\n          filteredNannies.sort((a, b) => b.name.localeCompare(a.name));\n          break;\n        case \"Less than 10$\":\n          filteredNannies = filteredNannies.filter(\n            (nanny) => nanny.price_per_hour <= 10\n          );\n          break;\n        case \"Greater than 10$\":\n          filteredNannies = filteredNannies.filter(\n            (nanny) => nanny.price_per_hour > 10\n          );\n          break;\n        case \"Popular\":\n          filteredNannies.sort((a, b) => b.rating - a.rating);\n          break;\n        case \"Not popular\":\n          filteredNannies.sort((a, b) => a.rating - b.rating);\n          break;\n        case \"Show all\":\n        default:\n          break;\n      }\n\n      setVisibleNannies(filteredNannies.slice(0, currentPage * nanniesPerPage));\n    }\n  }, [filter, loadedNannies, currentPage]);\n\n  return (\n    <>\n      <div className={css.list}>\n        {!isLoading && visibleNannies.length === 0 ? (\n          <p>No nannies found with the selected criteria</p>\n        ) : (\n          <div className={css.list}>\n            {visibleNannies.map((nanny: INanny) => (\n              <NanniesCard key={nanoid()} nanny={nanny} />\n            ))}\n          </div>\n        )}\n      </div>\n      {loadedNannies.length > visibleNannies.length &&\n        visibleNannies.length !== 0 && (\n          <div className={css.btnWrap}>\n            <button onClick={handleLoadMore} className={css.btnLoadMore}>\n              Load more\n            </button>\n          </div>\n        )}\n\n      {isLoading && !visibleNannies && <Loader />}\n    </>\n  );\n};\n\nexport default NanniesList;\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgChevronDown(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5 7.5L10 12.5L15 7.5\",\n    stroke: \"#FBFBFB\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgChevronDown);\nexport default __webpack_public_path__ + \"static/media/chevron-down.4ccbc5dc7b972c8bbb1c70d9a162d0a8.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Filters_title__FvnP7\",\"wrap\":\"Filters_wrap__3exMc\",\"btnInput\":\"Filters_btnInput__UOb1C\",\"dropdown\":\"Filters_dropdown__AjeDW\",\"list\":\"Filters_list__v78Sz\",\"item\":\"Filters_item__XBHem\"};","import { FC, useRef, useState } from \"react\";\nimport { nanoid } from \"nanoid\";\nimport { ReactComponent as IconChevron } from \"../../img/chevron-down.svg\";\nimport css from \"./Filters.module.css\";\nimport { useDispatch } from \"react-redux\";\nimport { setFilter } from \"../../redux/filterSlice\";\nimport useCloseDropdown from \"../../services/closeDropdown\";\n\nconst Filters: FC = () => {\n  const defaultFilter = \"Show all\";\n\n  const options: string[] = [\n    \"A to Z\",\n    \"Z to A\",\n    \"Less than 10$\",\n    \"Greater than 10$\",\n    \"Popular\",\n    \"Not popular\",\n    \"Show all\",\n  ];\n\n  const [selectedFilter, setSelectedFilter] = useState(defaultFilter);\n\n  const [isOpenDropdown, setOpenDropdown] = useState(false);\n\n  const dropdownref = useRef<HTMLDivElement | null>(null);\n  const iconref = useRef<HTMLDivElement | null>(null);\n\n  const dispatch = useDispatch();\n\n  const handleSelect = (selectedFilter: string) => {\n    setSelectedFilter(selectedFilter);\n    dispatch(setFilter(selectedFilter));\n  };\n\n  const onClose = () => {\n    setOpenDropdown(false);\n  };\n\n  useCloseDropdown(onClose, dropdownref, iconref);\n\n  return (\n    <>\n      <p className={css.title}>Filters</p>\n      <div className={css.wrap}>\n        <button\n          type=\"button\"\n          className={css.btnInput}\n          onClick={() => {\n            setOpenDropdown(!isOpenDropdown);\n          }}\n        >\n          {selectedFilter}\n          <IconChevron ref={iconref} />\n        </button>\n\n        {isOpenDropdown && (\n          <div className={css.dropdown} onClick={onClose} ref={dropdownref}>\n            <ul className={css.list}>\n              {options.map((opt) => (\n                <li\n                  key={nanoid()}\n                  className={css.item}\n                  onClick={() => handleSelect(opt)}\n                  defaultValue={defaultFilter}\n                >\n                  {opt}\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Filters;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"NanniesPage_container__0IUy6\"};","import React from \"react\";\nimport NanniesList from \"../../components/NanniesList/NanniesList\";\nimport Filters from \"../../components/Filters/Filters\";\nimport css from \"./NanniesPage.module.css\";\n\nconst NanniesPage = () => {\n  return (\n    <section className={css.container}>\n      <Filters />\n      <NanniesList />\n    </section>\n  );\n};\n\nexport default NanniesPage;\n"],"names":["nanoid","size","arguments","length","undefined","id","bytes","crypto","getRandomValues","Uint8Array","NanniesList","isLoading","useSelector","selectIsLoading","filter","selectFilter","loadedNannies","setLoadedNannies","useState","visibleNannies","setVisibleNannies","currentPage","selectCurrentPage","dispatch","useDispatch","useEffect","setLoading","setError","unsubscribe","onValue","ref","db","snapshot","data","val","setNannies","error","filteredNannies","sort","a","b","name","localeCompare","nanny","price_per_hour","rating","slice","_jsxs","_Fragment","children","_jsx","className","css","map","NanniesCard","onClick","handleLoadMore","setNextPage","startIndex","endIndex","newVisibleNannies","setCurrentPage","Loader","_path","_extends","Object","assign","bind","target","i","source","key","prototype","hasOwnProperty","call","apply","this","SvgChevronDown","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ForwardRef","Filters","defaultFilter","selectedFilter","setSelectedFilter","isOpenDropdown","setOpenDropdown","dropdownref","useRef","iconref","onClose","useCloseDropdown","type","IconChevron","opt","setFilter","handleSelect","defaultValue","NanniesPage"],"sourceRoot":""}